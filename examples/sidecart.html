<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title></title>
        <link href="../src/css/perseusld.css" rel="stylesheet" type="text/css"/>
        <link href="../third_party/sidecart/src/css/sidecart.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <!-- Side Cart DOM -->
        <div id="sidecartRight"></div>
        
        <!-- Artifact Data Content Block-->
        <div id="artifact-contents" class="contents">
            <div resource="http://data.perseus.org/artifacts/vase/Malibu+87.AE.22" typeof="http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object"></div>
        </div>
        
        <!-- First Artifact Query -->
        <div class="perseusld" id="query_results_1" 
            serialization="oac"
            sbj="#artifact-contents" 
            class='object' 
            verb="http://www.w3.org/ns/oa#hasTarget" 
            formatter="filter_artifact_annotations"
            lib_root="http://localhost/perseusld/src"
            endpoint="http://localhost:3030/ds/query?query=">
                <div class="perseusld_results perseusld_artifact"></div>
        </div>
        
        <!-- Second Aritifact Query -->
        <div class="perseusld" id="query_results_2" 
            serialization="oac"
            sbj="#artifact-contents" 
            class='object' 
            verb="http://www.w3.org/ns/oa#hasTarget" 
            formatter="filter_artifact_annotations"
            lib_root="http://localhost/perseusld/src"
            endpoint="http://localhost:3030/ds/query?query=">
                <div class="perseusld_results perseusld_artifact"></div>
        </div>

        <!-- Text Data Content Block-->
        <div id="text-contents" class="contents">
            <div id="cts-passage-uri"
                resource="http://data.perseus.org/citations/urn:cts:greekLit:tlg0019.tlg006.perseus-eng1:685-708"
                typeof="http://lawd.info/ontology/Citation">
                <span class="data-label">Citation URI:</span>
                <a href="http://data.perseus.org/citations/urn:cts:greekLit:tlg0019.tlg006.perseus-eng1:685-708">
                    http://data.perseus.org/citations/urn:cts:greekLit:tlg0019.tlg006.perseus-eng1:685-708</a>
                    
                <div id="cts-text-uri" typeof="http://lawd.info/ontology/WrittenWork"
                    resource="http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006.perseus-eng1"
                    property="http://lawd.info/ontology/represents">
                    <span class="data-label">Text URI:</span>
                    <a href="http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006">
                        http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006</a>
                        
                    <div id="cts-work-uri" typeof="http://lawd.info/ontology/ConceptualWork"
                        resource="http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006"
                        property="http://lawd.info/ontology/embodies">
                        <span class="data-label">Work URI:</span>
                        <a href="http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006">
                            http://data.perseus.org/texts/urn:cts:greekLit:tlg0019.tlg006</a>
                    </div>
                    
                    <div id="cts-catalog-uri" 
                        resource="http://data.perseus.org/catalog/urn:cts:greekLit:tlg0013.tlg007.perseus-eng1" 
                        property="http://www.w3.org/2000/01/rdf-schema#isDefinedBy">
                        <span class="data-label">Catalog Record URI:</span>
                        <a target="_blank"
                            href="http://data.perseus.org/catalog/urn:cts:greekLit:tlg0013.tlg007.perseus-eng1">
                            http://data.perseus.org/catalog/urn:cts:greekLit:tlg0013.tlg007.perseus-eng1</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Text Query -->
        <div class="perseusld" id="query_text_1"
            serialization="oac"
            sbj="#text-contents" 
            set="http://data.perseus.org/ds/collections"
            class='text' 
            verb="http://www.w3.org/ns/oa#hasTarget" 
            formatter="filter_text_annotations"
            pagemax="1"
            lib_root="http://localhost/perseusld/src"
            endpoint="http://services.perseus.tufts.edu/fuseki/ds/query?query=">
                <div class="perseusld_results">
                    <div class="perseusld_passage"></div>
                    <div class="perseusld_text"></div>
                    <div class="perseusld_work"></div>
                </div>
        </div>
    </body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="../third_party/sidecart/src/js/sidecart.js"></script>
    <script type="text/javascript" src="../third_party/sidecart/third_party/Readmore.js/readmore.min.js"></script>
    <script type="text/javascript" src="../third_party/sidecart/third_party/jslib/src/js/Styler.js"></script>
    <script type="text/javascript" src="../third_party/sidecart/third_party/jslib/src/js/jQueryPlus.js"></script>
    <script type="text/javascript" src="../third_party/sidecart/third_party/jslib/src/js/StringExt.js"></script>
    <script src="../src/js/perseusld.js"></script>
    <script src="http://sosol.perseids.org/sosol/javascripts/pagedown/Markdown.Converter.js"></script>
    <script src="http://sosol.perseids.org/sosol/javascripts/pagedown/Markdown.Sanitizer.js"></script>
    <script src="http://sosol.perseids.org/sosol/javascripts/pagedown/Markdown.Editor.js"></script>
    <script type="text/javascript">

        var sidecart = null;
        jQuery().ready( function() {
            //------------------------------------------------------------
            //  Get a sidecart instance.
            //------------------------------------------------------------
            sidecart = jQuery('#sidecartRight').sidecart({
                side: 'right'
            }).data('#sidecartRight');
            
            //------------------------------------------------------------
            //  Add sidecart views as PerseusLD data is loaded.
            //------------------------------------------------------------
            jQuery("#query_results_1").on( 'PerseusLD--LOADED', function( _e, _extra ) {
                //------------------------------------------------------------
                //  Check event extra object to see if "last" item is true.
                //------------------------------------------------------------
                sidecart.addView({
                    id: 'annotations_1',
                    type: 'annotations',
                    link: 'Artifacts',
                    src: '#query_results_1 .perseusld_results',
                    //------------------------------------------------------------
                    //  This callback function runs once when the view is first
                    //  initialized.
                    //------------------------------------------------------------
                    init: function() {;
                        jQuery('#sidecartRight #annotations_1 .annotation').readmore({
                            maxHeight: 200,
                            moreLink: '<a href="#">More</a>',
                            lessLink: '<a href="#">Less</a>'
                        });
                    },
                    //------------------------------------------------------------
                    //  This callback function runs everytime a view's tab is clicked
                    //------------------------------------------------------------
                    refresh: function() {}
                });
            });
            
            //------------------------------------------------------------
            //  Add sidecart views as PerseusLD data is loaded.
            //------------------------------------------------------------
            jQuery("#query_results_2").on( 'PerseusLD--LOADED', function( _e, _extra ) {
                //------------------------------------------------------------
                //  Check event extra object to see if "last" item is true.
                //------------------------------------------------------------
                sidecart.addView({
                    id: 'annotations_2',
                    type: 'annotations',
                    link: 'Artifacts-2',
                    src: '#query_results_2 .perseusld_results',
                    //------------------------------------------------------------
                    //  This callback function runs once when the view is first
                    //  initialized.
                    //------------------------------------------------------------
                    init: function() {
                        jQuery('#sidecartRight #annotations_2 .annotation').readmore({
                            maxHeight: 200,
                            moreLink: '<a href="#">More</a>',
                            lessLink: '<a href="#">Less</a>'
                        });
                    },
                    //------------------------------------------------------------
                    //  This callback function runs everytime a view's tab is clicked
                    //------------------------------------------------------------
                    refresh: function() {}
                });
            });
            
            jQuery("#query_text_1").on( 'PerseusLD--LOADED', function( _e, _extra ) {
                //------------------------------------------------------------
                //  Check event extra object to see if "last" item is true.
                //------------------------------------------------------------
                sidecart.addView({
                    id: 'text_1',
                    type: 'annotations',
                    link: 'Text-1',
                    src: '#text_1 .perseusld_results',
                    //------------------------------------------------------------
                    //  This callback function runs once when the view is first
                    //  initialized.
                    //------------------------------------------------------------
                    init: function() {
                        jQuery('#sidecartRight #text_1 .annotation').readmore({
                            maxHeight: 200,
                            moreLink: '<a href="#">More</a>',
                            lessLink: '<a href="#">Less</a>'
                        });
                    },
                    //------------------------------------------------------------
                    //  This callback function runs everytime a view's tab is clicked
                    //------------------------------------------------------------
                    refresh: function() {}
                });
            });
            
            //------------------------------------------------------------
            //  Start it up!
            //------------------------------------------------------------
            jQuery( "#query_results_1" ).PerseusLD();
            jQuery( "#query_results_2" ).PerseusLD();
            jQuery( "#query_text_1" ).PerseusLD();
        });
    </script>
</html>
